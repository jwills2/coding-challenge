{"version":3,"sources":["assets/search-icon.svg","components/SearchBar/index.jsx","components/ProductListing/index.jsx","components/SearchResults/index.jsx","App.jsx","index.jsx"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","_ref3","fill","_ref","svgRef","title","props","width","height","viewBox","ref","ForwardRef","forwardRef","SearchBar","useState","searchTerm","setSearchTerm","history","useHistory","className","onSubmit","e","preventDefault","push","autoComplete","name","type","value","onChange","placeholder","ProductListing","imageUrl","imageAlt","src","alt","CORS_PROXY","MEC_API","SearchResults","products","setProducts","isFetching","setIsFetching","errorOccured","setErrorOccured","useParams","useEffect","a","fetch","rawData","json","jsonData","console","error","fetchProducts","productList","map","product","product_code","full_name","default_image_urls","main_image_url","Fragment","App","to","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9ccbc0aa.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar SvgSearchIcon = function SvgSearchIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgSearchIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/search-icon.a87eca9e.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState} from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport { ReactComponent as SearchIcon } from '../../assets/search-icon.svg';\r\nimport './style.scss';\r\n\r\nconst SearchBar = () => {\r\n\tconst [searchTerm, setSearchTerm] = useState('');\r\n\tconst history = useHistory(); \r\n\r\n\tconst handleChange = (e) => setSearchTerm(e.target.value);\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif(searchTerm){\r\n\t\t\thistory.push(`/search/${searchTerm}`, [searchTerm])\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className=\"search-bar\" onSubmit={handleSubmit} autoComplete=\"off\">\r\n\t\t\t<input\r\n\t\t\t\tclassName=\"search-bar__input-field\"\r\n\t\t\t\tname=\"searchTerm\"\r\n\t\t\t\ttype=\"search\"\r\n\t\t\t\tvalue={searchTerm}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tplaceholder=\"I'm looking for...\"\r\n\t\t\t/>\r\n\t\t\t<button type=\"submit\" className=\"search-bar__search-button\">\r\n\t\t\t\t<SearchIcon className=\"search-bar__search-icon\"/>\r\n\t\t\t</button>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default SearchBar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './style.scss';\r\n\r\nconst ProductListing = ({name, imageUrl, imageAlt}) => (\r\n\t<article className=\"product-listing\">\r\n\t\t<img src={imageUrl} className=\"product-listing__image\" alt={imageAlt} />\r\n\t\t<h2 className=\"product-listing__name\">{name}</h2>\r\n\t</article>\r\n);\r\n\r\nProductListing.propTypes = {\r\n\tname: PropTypes.string.isRequired,\r\n\timageUrl: PropTypes.string.isRequired,\r\n\timageAlt: PropTypes.string.isRequired\r\n};\r\n\r\nexport default ProductListing;\r\n","import React, {useState, useEffect} from 'react';\r\nimport {useParams} from 'react-router-dom';\r\nimport ProductListing from '../ProductListing';\r\nimport './style.scss';\r\n\r\n/*\r\n\tChrome was blocking the request to the MEC api endpoint as it does not\r\n\tprovide the 'Access-Control-Allow-Origin' header. I am bypassing the\r\n\tissue by using this CORS proxy\r\n*/\r\nconst CORS_PROXY = 'https://cors-anywhere.herokuapp.com/';\r\nconst MEC_API = 'http://www.mec.ca/api/v1/products/search?keywords=';\r\n\r\nfunction SearchResults(props) {\r\n\tconst [products, setProducts] = useState([]);\r\n\tconst [isFetching, setIsFetching] = useState(false);\r\n\tconst [errorOccured, setErrorOccured] = useState(false);\r\n\r\n\tconst {searchTerm} = useParams();\r\n\tuseEffect(() => {\r\n\t\tconst fetchProducts = async () => {\r\n\t\t\tsetIsFetching(true);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tsetErrorOccured(false);\r\n\t\t\t\tconst rawData = await fetch(`${CORS_PROXY}${MEC_API}${searchTerm}`);\r\n\t\t\t\tconst jsonData = await rawData.json();\r\n\t\t\t\tsetProducts(jsonData.products || []);\r\n\t\t\t\tsetIsFetching(false);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tsetErrorOccured(true);\r\n\t\t\t\tsetIsFetching(false);\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfetchProducts();\r\n\t}, [searchTerm]);\r\n\r\n\tconst productList = products.map((product) => (\r\n\t\t<ProductListing\r\n\t\t\tkey={product.product_code}\r\n\t\t\tname={product.full_name}\r\n\t\t\timageUrl={product.default_image_urls.main_image_url}\r\n\t\t\timageAlt={product.name}\r\n\t\t/>\r\n\t));\r\n\r\n\tif(isFetching) {\r\n\t\treturn <p>Searching for \"{searchTerm}\"</p>;\r\n\t} else if (errorOccured) {\r\n\t\treturn <p>An error occured when searching for \"{searchTerm}\"</p>\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<h1>Search results for \"{searchTerm}\"</h1>\r\n\t\t\t\t<p>{productList.length} products found</p>\r\n\t\t\t\t{\r\n\t\t\t\t\tproductList.length ? (\r\n\t\t\t\t\t\t<section className=\"search-results__product-list\">{productList}</section>\r\n\t\t\t\t\t) : <p>No products found</p>\r\n\t\t\t\t}\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n};\r\n\r\nexport default SearchResults;\r\n","import React from 'react';\r\nimport {Switch, Route, Link} from 'react-router-dom';\r\nimport SearchBar from './components/SearchBar';\r\nimport SearchResults from './components/SearchResults';\r\nimport './App.scss';\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<header className=\"header\">\r\n\t\t\t\t<div className=\"header__inner-container\">\r\n\t\t\t\t\t<Link to=\"/\" className=\"header__logo\">Logo</Link>\r\n\t\t\t\t\t<SearchBar />\r\n\t\t\t\t</div>\r\n\t\t\t</header>\r\n\t\t\t<main className=\"content\">\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path=\"/search/:searchTerm\">\r\n\t\t\t\t\t\t<SearchResults />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/\">\r\n\t\t\t\t\t\t<h1>MEC Product Search</h1>\r\n\t\t\t\t\t\t<p className=\"content__heading-begin\">Enter a search term above to begin</p>\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t</main>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\"\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n\t<BrowserRouter>\n\t\t<App />\n\t</BrowserRouter>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}